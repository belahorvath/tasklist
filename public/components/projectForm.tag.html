<projectForm>
<form onsubmit="{ createProject }" id="projectForm">
    <input type="text"  ref="projectName" name="project" placeholder="new Project...">
  <button id="btnProject" class="btn btn-primary" type="submit">Create Project</button>

</form>
    <script>
      this.projects = opts.projects;
      var alreadyExists = false;

      createProject(e) {
      e.preventDefault();

        if(this.refs.projectName.value) {
          for(var i = 0; i<this.projects.collection.length;i++){
            if(this.refs.projectName.value == this.projects.collection[i].projectName)
            {
              alreadyExists = true;
              alert("Project already exists, please use the existing project!");
            }
          }
          if(alreadyExists == false){
            this.projects.add({
              'id' : this.projects.collection.length,
              'client_id': uuidv4(),
              'projectName' : this.refs.projectName.value,
              'active' : false});
            this.refs.projectName.value="";
          }
        }
      }

      // generate uuidv4
      function uuidv4() {
          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
              var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
              return v.toString(16);
          });
}
</script>
</projectForm>
